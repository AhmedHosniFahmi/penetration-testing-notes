# Content 
- [SOP](#sop)
- [CORS](#cors)
  - [CORS Headers](#cors-headers)
  - [Pre-flight checks](#pre-flight-checks)


## SOP 
Generally, embedding a cross-origin resource is permitted, while reading a cross-origin resource is blocked. [source](https://web.dev/same-origin-policy/)
| Element     | Cross-Origin Permissions                                        |
|-------------|----------------------------------------------------------------|
| iframes     | Cross-origin embedding is usually permitted (depending on the X-Frame-Options directive), but cross-origin reading (such as using JavaScript to access a document in an iframe) isn't. |
| CSS         | Cross-origin CSS can be embedded using a <link> element or an @import in a CSS file. The correct Content-Type header may be required. |
| forms       | Cross-origin URLs can be used as the action attribute value of form elements. A web application can write form data to a cross-origin destination. |
| images      | Embedding cross-origin images is permitted. However, reading cross-origin image data (such as retrieving binary data from a cross-origin image using JavaScript) is blocked. |
| multimedia  | Cross-origin video and audio can be embedded using <video> and <audio> elements. |
| script      | Cross-origin scripts can be embedded; however, access to certain APIs (such as cross-origin fetch requests) might be blocked. |

There are various exceptions to the same-origin policy:
- Some objects are writable but not readable cross-domain, such as the location object or the location.href property from iframes or new windows.
- Some objects are readable but not writable cross-domain, such as the length property of the window object (which stores the number of frames being used on the page) and the closed property.
- The replace function can generally be called cross-domain on the location object.
- You can call certain functions cross-domain. For example, you can call the functions close, blur and focus on a new window. The postMessage function can also be called on iframes and new windows in order to send messages from one domain to another.


## CORS 
Cross-origin resource sharing (CORS) is a browser mechanism which enables controlled access to resources located outside of a given domain. It extends and adds flexibility to the same-origin policy (SOP). 


### CORS Headers
- request
```http
Origin : https://normal-website.com
```
- response
```http
Access-Control-Allow-Origin: * | null | domain 
Access-Control-Allow-Credentials: true | false
```
### Pre-flight checks
when a cross-domain request includes a non-standard HTTP method or headers, the cross-origin request is preceded by a request using the OPTIONS method
- response
```http
Access-Control-Allow-Origin: https://normal-website.com
Access-Control-Allow-Methods: PUT, POST, OPTIONS
Access-Control-Allow-Headers: Special-Request-Header
Access-Control-Allow-Credentials: true
Access-Control-Max-Age: 240                                => defines a maximum timeframe for caching the pre-flight response for reuse
```
